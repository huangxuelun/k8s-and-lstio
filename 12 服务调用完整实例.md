#服务调用完整实例

编写springboot-case、springboot-xtgl、springboot-zdry、springboot-web-zhpcs 4个服务，在springboot-web-zhpcs中实现服务之间的调用

## 基础镜像服务镜像的创建

```
192.168.1.160/test/jdk8-alpine
192.168.1.160/test/tomcat8.5.39-jdk8-alpine:latest

springboot-case

[root@k8s-node-1 springboot-case]# cat Dockerfile 
FROM frolvlad/alpine-oraclejdk8:latest
MAINTAINER yxm
LABEL version="v1.0"
LABEL repo="test"
RUN mkdir -p /usr/local/soft/springboot
RUN mkdir -p /usr/local/soft/springboot/logs
copy springboot-case.jar /usr/local/soft/springboot
EXPOSE 80
CMD ["/usr/bin/java","-jar", "-Ddebug.level=INFO", "/usr/local/soft/springboot/springboot-case.jar"]

springboot-web-zhpcs

FROM 192.168.1.160/test/tomcat8.5.39-jdk8-alpine:latest
MAINTAINER yxm
LABEL version="v1.0"
LABEL repo="test"
RUN mkdir -p /usr/local/soft/springboot/logs
RUN mkdir -p /usr/local/soft/springboot-web-zhpcs
ENV CATALINA_HOME /usr/local/soft/tomcat
ENV PATH $CATALINA_HOME/bin:$PATH
#WORKDIR $CATALINA_HOME
COPY server.xml /usr/local/soft/tomcat/conf
copy springboot-web-zhpcs /usr/local/soft/springboot-web-zhpcs
EXPOSE 80
CMD ["catalina.sh","run"]
```

##push镜像

```
docker push 192.168.1.160/test/springboot-web-zhpcs3 
docker push 192.168.1.160/test/springboot-case
docker push 192.168.1.160/test/springboot-xtgl
docker push 192.168.1.160/test/springboot-zdry

```

## 单独调试docker ,看启动情况

```
docker image ls 或 docker ps #查看镜像和查看容器
docker run -it -d -p 8086:80 91e763f4a40f
docker run -it  91e763f4a40f /bin/sh
```

